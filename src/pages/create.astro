---
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Share Story</title>
    <style>
      body { margin: 0; background: #f3f4f6; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; color: #1f2937; }
      nav { background: white; padding: 15px; border-bottom: 1px solid #e5e7eb; text-align: center; }
      .logo { font-weight: 900; color: #2563eb; text-decoration: none; font-size: 1.2rem; }

      main { max-width: 600px; margin: 30px auto; padding: 0 20px; }
      
      .card { background: white; padding: 30px; border-radius: 16px; border: 1px solid #e5e7eb; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
      
      h1 { margin-top: 0; font-size: 1.5rem; color: #111827; }
      
      label { display: block; font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; margin-top: 20px; color: #374151; }
      
      input, select, textarea { 
        width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; 
        font-family: inherit; font-size: 1rem; box-sizing: border-box; background: white;
      }
      
      .btn { 
        background: #2563eb; color: white; border: none; padding: 14px; 
        border-radius: 8px; font-weight: 700; font-size: 1rem; cursor: pointer; 
        width: 100%; margin-top: 24px; 
      }
      .cancel { display: block; text-align: center; margin-top: 16px; color: #6b7280; text-decoration: none; font-size: 0.9rem; }
    </style>
  </head>
  <body>
    <nav><a href="/" class="logo">Only Scrubs</a></nav>
    <main>
      <div class="card">
        <h1>Share your story</h1>
        <form id="form">
          <label>Category</label>
          <select name="category">
            <option>General</option><option>Vent üò§</option><option>Happy ‚ú®</option><option>Advice ü§ù</option><option>Crazy üöë</option>
          </select>

          <label>My Role (Context)</label>
          <select name="role">
            <option value="Anonymous">Anonymous</option>
            <option value="Registered Nurse">Registered Nurse</option>
            <option value="Enrolled Nurse">Enrolled Nurse</option>
            <option value="Doctor / Resident">Doctor / Resident</option>
            <option value="Medical Student">Medical Student</option>
            <option value="Paramedic">Paramedic</option>
            <option value="Midwife">Midwife</option>
            <option value="Allied Health">Allied Health</option>
            <option value="Admin / Other">Admin / Other</option>
          </select>

          <label>Title</label>
          <input name="title" maxlength="80" placeholder="Short & catchy title" required />

          <label>Story</label>
          <textarea name="text" rows="6" placeholder="Type your story here..." required></textarea>

          <label>Attachment (Optional)</label>
          <input type="file" name="file" />

          <button class="btn">Post Story</button>
        </form>
        <a href="/stories" class="cancel">Cancel</a>
      </div>
    </main>
    <script>
      document.getElementById("form").onsubmit = async (e) => {
        e.preventDefault();
        const btn = e.target.querySelector("button");
        btn.innerText = "Posting..."; btn.disabled = true;
        await fetch("/api/stories", { method: "POST", body: new FormData(e.target) });
        window.location.href = "/stories";
      }
    </script>
  </body>
</html>
